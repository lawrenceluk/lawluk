!function(e,t,a){"use strict";function r(){localStorage.setItem("CompareCoins",e(".exchange-currency-types").val());var t=[o].concat(e(".exchange-currency-types").val());e.getJSON("https://min-api.cryptocompare.com/data/pricemultifull?fsyms="+n+"&tsyms="+t.join(","),function(t){var a=t.DISPLAY[n];Object.values(a).forEach(function(e){e.priceFloat=parseFloat(e.PRICE.replace(/[^\d.-]/g,""))}),a[o].buyingPower=a[o].priceFloat.toFixed(6)*(parseInt(e(".exchange-currency-amount").val())||1),a[o].localRate=1,a[o].symbol=o,e.getJSON("https://min-api.cryptocompare.com/data/pricemulti?fsyms="+o+"&tsyms="+Object.keys(a).join(","),function(t){if(!t.Response||"Error"!==t.Response){var r=t[o];Object.keys(r).forEach(function(t){a[t].buyingPower=(1/r[t]*a[t].priceFloat).toFixed(6)*(parseInt(e(".exchange-currency-amount").val())||1),a[t].localRate=r[t],a[t].symbol=t});var c=Object.values(a).sort(function(e,t){return parseFloat(t.buyingPower)-parseFloat(e.buyingPower)})[0];a[c.symbol].best=!0;var s="";Object.keys(a).forEach(function(t){var r="";r=t!==o?"<img class='exchange-result-thumbnail' src='https://www.cryptocompare.com"+(r=i.filter(function(e){return e.id===t})[0].imageUrl)+"' />":"<div class='exchange-result-thumbnail'><span class='fa fa-"+o.toLowerCase()+"'></span></div>";var c="<div class='exchange-result "+(a[t].best?"best":"")+"'><div class='exchange-result-header'>"+r+(e(".exchange-currency-amount").val()||1)+" "+n+" converted to "+t+" is worth<h3 class='exchange-result-title'>"+a[t].buyingPower.toFixed(4)+" "+o+"</h3>1 "+n+" costs <strong>"+a[t].priceFloat+" "+t+"</strong><small>(1 "+t+" = <strong>"+(1/a[t].localRate).toFixed(6)+" "+o+"</strong>)</small></div><div class='exchange-result-stats'><div class='row'><div><div class='arrow-up'></div>24h High</div><div><strong>"+a[t].HIGH24HOUR+"</strong></div></div><div class='row'><div><div class='arrow-down'></div>24h Low</div><div><strong>"+a[t].LOW24HOUR+"</strong></div></div></div><div class='exchange-result-details'><div>Market: "+a[t].LASTMARKET+"</div><small>Updated "+a[t].LASTUPDATE.toLowerCase()+"</small></div></div>";s+=c}),e(".exchange-output").html(s)}})})}var c="undefined"!=typeof Storage,o="USD",n="",s=c&&localStorage.getItem("sellCoin")?localStorage.getItem("sellCoin"):"",i=[],l=[],u=c&&localStorage.getItem("CompareCoins")?(localStorage.getItem("CompareCoins")||"BTC,ETH").split(","):["BTC","ETH"];e(".exchange-currency-local").select2({data:[{id:"USD",text:"US Dollar"},{id:"EUR",text:"Euro"},{id:"GBP",text:"British Pound"}],minimumResultsForSearch:1/0}),e(".exchange-currency-local").on("change",function(){o!==e(this).val()&&(o=e(this).val(),r())}),e.getJSON("https://www.cryptocompare.com/api/data/coinlist/",function(t){i=Object.values(t.Data).map(function(e){return{id:e.Name,imageUrl:e.ImageUrl,text:e.CoinName,order:parseInt(e.SortOrder)}}),i=i.sort(function(e,t){return e.order-t.order}),l=l.concat(i),n=i[0].id,e(".exchange-input-image").css("background-image","url(https://www.cryptocompare.com"+i[0].imageUrl+")"),e(".exchange-currency-source").select2({data:i}),s&&e(".exchange-currency-source").val(s).change(),e(".exchange-currency-types").select2({data:l}),e(".exchange-currency-types").val(u).change(),e("#loading-content, #loaded-content").addClass("loaded")}),e(".exchange-currency-source").on("change",function(){n=s||e(this).val(),s=null,localStorage.setItem("sellCoin",n);var t=i.filter(function(e){return e.id===n})[0].imageUrl;e(".exchange-input-image").css("background-image","url(https://www.cryptocompare.com"+t+")"),r()}),e(".exchange-currency-types").on("change",function(){r()}),e(".exchange-refresh-button").on("click",r)}(jQuery);